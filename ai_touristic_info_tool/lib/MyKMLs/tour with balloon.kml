<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2" 
     xmlns:gx="http://www.google.com/kml/ext/2.2">
  <Document>
    <name>Tour Example</name>

    <!-- Style for the balloons -->
    <Style id="balloonStyle">
      <BalloonStyle>
        <bgColor>ffffffbb</bgColor>
        <text><![CDATA[
          <div style="font-family:Arial; font-size:14px; color:#000;">
            <b>$[name]</b><br/>
            $[description]
          </div>
        ]]></text>
      </BalloonStyle>
    </Style>

    <!-- Placemark 1 -->
    <Placemark id="placemark1">
      <name>Placemark 1</name>
      <description>This is the first placemark.</description>
      <styleUrl>#balloonStyle</styleUrl>
      <Point>
        <coordinates>-122.0839597145766,37.42222904525232,0</coordinates>
      </Point>
    </Placemark>

    <!-- Placemark 2 -->
    <Placemark id="placemark2">
      <name>Placemark 2</name>
      <description>This is the second placemark.</description>
      <styleUrl>#balloonStyle</styleUrl>
      <Point>
        <coordinates>-122.0849597145766,37.42322904525232,0</coordinates>
      </Point>
    </Placemark>

    <!-- Tour -->
    <gx:Tour>
      <name>Tour</name>
      <gx:Playlist>

        <!-- Fly to Placemark 1 -->
        <gx:FlyTo>
          <gx:duration>5.0</gx:duration>
          <gx:flyToMode>smooth</gx:flyToMode>
          <LookAt>
            <longitude>-122.0839597145766</longitude>
            <latitude>37.42222904525232</latitude>
            <altitude>0</altitude>
            <heading>0</heading>
            <tilt>70</tilt>
            <range>100</range>
            <gx:altitudeMode>relativeToGround</gx:altitudeMode>
          </LookAt>
        </gx:FlyTo>

        <!-- Show balloon for Placemark 1 -->
        <gx:AnimatedUpdate>
          <gx:duration>0.5</gx:duration>
          <Update>
            <targetHref/>
            <Change>
              <Placemark targetId="placemark1">
                <gx:balloonVisibility>1</gx:balloonVisibility>
              </Placemark>
            </Change>
          </Update>
        </gx:AnimatedUpdate>

        <!-- Wait -->
        <gx:Wait>
          <gx:duration>2.0</gx:duration>
        </gx:Wait>

        <!-- Orbit around Placemark 1 -->
        <gx:FlyTo>
          <gx:duration>3.0</gx:duration>
          <gx:flyToMode>smooth</gx:flyToMode>
          <LookAt>
            <longitude>-122.0839597145766</longitude>
            <latitude>37.42222904525232</latitude>
            <altitude>0</altitude>
            <heading>360</heading>
            <tilt>70</title>
            <range>100</range>
            <gx:altitudeMode>relativeToGround</gx:altitudeMode>
          </LookAt>
        </gx:FlyTo>

        <!-- Hide balloon for Placemark 1 -->
        <gx:AnimatedUpdate>
          <gx:duration>0.5</gx:duration>
          <Update>
            <targetHref/>
            <Change>
              <Placemark targetId="placemark1">
                <gx:balloonVisibility>0</gx:balloonVisibility>
              </Placemark>
            </Change>
          </Update>
        </gx:AnimatedUpdate>

        <!-- Wait -->
        <gx:Wait>
          <gx:duration>2.0</gx:duration>
        </gx:Wait>

        <!-- Fly to Placemark 2 -->
        <gx:FlyTo>
          <gx:duration>5.0</gx:duration>
          <gx:flyToMode>smooth</gx:flyToMode>
          <LookAt>
            <longitude>-122.0849597145766</longitude>
            <latitude>37.42322904525232</latitude>
            <altitude>0</altitude>
            <heading>0</heading>
            <tilt>70</tilt>
            <range>100</range>
            <gx:altitudeMode>relativeToGround</gx:altitudeMode>
          </LookAt>
        </gx:FlyTo>

        <!-- Show balloon for Placemark 2 -->
        <gx:AnimatedUpdate>
          <gx:duration>0.5</gx:duration>
          <Update>
            <targetHref/>
            <Change>
              <Placemark targetId="placemark2">
                <gx:balloonVisibility>1</gx:balloonVisibility>
              </Placemark>
            </Change>
          </Update>
        </gx:AnimatedUpdate>

        <!-- Wait -->
        <gx:Wait>
          <gx:duration>2.0</gx:duration>
        </gx:Wait>

        <!-- Orbit around Placemark 2 -->
        <gx:FlyTo>
          <gx:duration>3.0</gx:duration>
          <gx:flyToMode>smooth</gx:flyToMode>
          <LookAt>
            <longitude>-122.0849597145766</longitude>
            <latitude>37.42322904525232</latitude>
            <altitude>0</altitude>
            <heading>360</heading>
            <tilt>70</tilt>
            <range>100</range>
            <gx:altitudeMode>relativeToGround</gx:altitudeMode>
          </LookAt>
        </gx:FlyTo>

        <!-- Hide balloon for Placemark 2 -->
        <gx:AnimatedUpdate>
          <gx:duration>0.5</gx:duration>
          <Update>
            <targetHref/>
            <Change>
              <Placemark targetId="placemark2">
                <gx:balloonVisibility>0</gx:balloonVisibility>
              </Placemark>
            </Change>
          </Update>
        </gx:AnimatedUpdate>

        <!-- Wait -->
        <gx:Wait>
          <gx:duration>2.0</gx:duration>
        </gx:Wait>

      </gx:Playlist>
    </gx:Tour>

  </Document>
</kml>
